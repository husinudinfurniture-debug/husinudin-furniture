/* =========================================================
   layout.css - Layout: header, footer, section, grid
   ========================================================= */

/* Backwards-compatible breakpoint aliases (map older --breakpoint-* names to canonical --bp-* defined in style.css) */
:root {
  --breakpoint-sm: var(--bp-sm);
  --breakpoint-md: var(--bp-md);
  --breakpoint-lg: var(--bp-lg);
  --breakpoint-xl: var(--bp-xl);
} 

/* ================= HEADER ================= */
/* Header behavior: transparent on top (home), becomes solid on scroll for clarity
   Header spans full viewport width; inner .container remains inset */

/* Shared full-bleed handling for header & footer (avoids duplicated rules) */
.header, .footer {
  width: 100vw;
  max-width: 100vw;
  box-sizing: border-box;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  padding-left: 0 !important;
  padding-right: 0 !important;
}

.header {
  position: sticky;
  top: 0;
  z-index: 1000;
  overflow: visible; /* prevent clipped children */
  will-change: box-shadow;
  transition: background var(--transition), box-shadow var(--transition), border-color var(--transition);
}   
/* Transparent variant (used on homepage top) */
.header.transparent {
  background: transparent;
  border-bottom: none;
  box-shadow: none;
}

/* Scrolled / solid state */
.header.scrolled {
  background: var(--bg-light);
  border-bottom: 1px solid var(--border);
  box-shadow: 0 6px 24px rgba(0,0,0,0.08);
  backdrop-filter: blur(4px);
  transition: background var(--transition), box-shadow var(--transition), border-color var(--transition), backdrop-filter var(--transition);
} 

/* Keep header, hero and footer full-bleed: override page-level body padding so backgrounds reach edges */
.header, .hero, .footer {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Keep header container aligned with site content */
.header .container { padding-left: var(--container-padding-mobile); padding-right: var(--container-padding-mobile); }
@media (min-width: var(--bp-lg)) { .header .container { padding-left: var(--container-padding-tablet); padding-right: var(--container-padding-tablet); } }
@media (min-width: var(--bp-xl)) { .header .container { padding-left: var(--container-padding-desktop); padding-right: var(--container-padding-desktop); } }

/* Header inner: content alignment inside the full-bleed header */
.header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-md);
  min-height: 72px; /* larger tap area on mobile */
  padding-block: 0.4rem;
  width: 100%;
  box-sizing: border-box;
}

@media (min-width: var(--bp-lg)) {
  .header-inner {
    min-height: 64px;
    padding-block: 0;
  }
}  

/* Logo pinned to left corner (respecting viewport padding) */
.header .logo {
  position: absolute;
  left: var(--container-padding-mobile);
  top: 50%;
  transform: translateY(-50%);
  font-size: clamp(1.05rem, 4.2vw, 1.25rem);
  font-weight: 700;
  letter-spacing: -0.02em;
  color: var(--primary);
  text-decoration: none;
  white-space: nowrap;
  z-index: 1010;
}

@media (min-width: var(--bp-lg)) {
  .header .logo { font-size: 1.35rem; }
} 

/* Hamburger pinned to right corner (positioning + comfortable tap area) */
.header .nav-toggle {
  position: absolute;
  right: var(--container-padding-mobile);
  top: 50%;
  transform: translateY(-50%);
  min-width: 44px;
  min-height: 44px;
  padding: 0.25rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  z-index: 1010;
}

@media (min-width: var(--bp-lg)) {
  .header .nav-toggle { right: var(--container-padding-tablet); }
} 



/* Desktop / Tablet: keep logo & nav at corners and show full nav */
@media (min-width: var(--breakpoint-lg)) {
  .header .logo {
    left: var(--container-padding-tablet);
  }

  .header .nav-toggle {
    right: var(--container-padding-tablet);
    display: none; /* hide hamburger on larger screens */
  }

  .header .nav {
    position: absolute;
    right: var(--container-padding-tablet);
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: var(--spacing-md);
  }
}

@media (min-width: var(--breakpoint-xl)) {
  .header .logo {
    left: var(--container-padding-desktop);
  }

  .header .nav {
    right: var(--container-padding-desktop);
  }
}

/* ================= NAV ================= */
.nav {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
  
  /* Mobile: hidden by default */
  position: fixed;
  top: 64px;
  left: 0;
  right: 0;
  background: var(--bg-light);
  padding: var(--spacing-md) 0;
  box-shadow: var(--shadow-sm);
  
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: opacity var(--menu-transition), 
              visibility var(--menu-transition), 
              transform var(--menu-transition);
  z-index: 999;
}

/* Mobile: show when active */
.nav.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.nav a {
  position: relative;
  font-weight: 500;
  color: var(--text-dark);
  padding: 0.9rem var(--spacing-md); /* increased tap area on mobile */
  min-height: 48px;
  display: flex;
  align-items: center;
  white-space: nowrap;
}

@media (min-width: var(--bp-lg)) {
  .nav a { padding: 0.5rem 0; min-height: 44px; }
} 

.nav a.active,
.nav a:hover {
  color: var(--primary);
  background: var(--bg-soft);
}

.nav a.active::after {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--primary);
  border-radius: 0 2px 2px 0;
}

/* Desktop: show nav, hide hamburger */
@media (min-width: var(--breakpoint-lg)) {
  .nav {
    position: static;
    flex-direction: row;
    gap: var(--spacing-md);
    background: transparent;
    padding: 0;
    box-shadow: none;
    opacity: 1;
    visibility: visible;
    transform: none;
  }

  .nav a {
    padding: 0.5rem 0;
    background: transparent;
  }

  .nav a.active::after {
    position: absolute;
    left: 0;
    right: 0;
    top: auto;
    bottom: 0;
    width: 100%;
    height: 2px;
    border-radius: 2px;
  }

  /* Ensure header nav sits at the right corner (overrides generic .nav where needed) */
  .header .nav {
    position: absolute;
    right: var(--container-padding-tablet);
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: var(--spacing-md);
  }
}

/* ================= SECTION ================= */
/* Mobile-first: generous vertical spacing for breathing room */
.section {
  padding: var(--section-padding-mobile) 0;
  background: transparent;
}

/* Universal section headings: center and prominent */
.section h2 {
  font-size: clamp(1.25rem, 3.2vw, var(--h2-size-tablet));
  font-weight: 700;
  line-height: 1.12;
  margin-bottom: var(--spacing-lg); /* ~32px */
  text-align: center;
  max-width: 820px;
  margin-left: auto;
  margin-right: auto;
} 

.section h1 {
  text-align: center;
  margin-bottom: var(--spacing-lg);
}

/* Lists inside sections should not hug the edge */
.problem-list {
  max-width: 720px;
  margin: 0 auto;
  padding-left: 1.25rem;
  text-align: left;
  color: var(--text-dark);
  line-height: 1.6;
}

.problem-list li {
  margin-bottom: var(--spacing-sm);
}

/* Steps grid (Proses Pemesanan) */
.steps-grid {
  display: grid;
  gap: var(--spacing-lg);
  grid-template-columns: 1fr;
  align-items: stretch;
}

.steps-grid .step {
  background: var(--bg-light);
  padding: var(--spacing-lg);
  border-radius: calc(var(--radius) * 1.25);
  box-shadow: 0 10px 30px rgba(0,0,0,0.05);
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  min-height: 260px;
}

.steps-grid .step span {
  display: inline-block;
  font-weight: 700;
  font-size: 1.25rem;
  color: var(--primary);
  opacity: 0.95;
  margin-bottom: 0.5rem;
}

.steps-grid .step h4 {
  margin-bottom: 0.5rem;
  font-weight: 700;
}

@media (min-width: var(--breakpoint-lg)) {
  .steps-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-xl);
  }
}

@media (min-width: var(--breakpoint-xl)) {
  .steps-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-2xl);
  }
}

/* SECTION BACKGROUND PATTERN FOR HOMEPAGE: hero → cream → white → cream → white → CTA (brown)
   Note: Hero visuals are intentionally defined in `css/beranda.css` so page-scoped styles
   remain near the page implementation and do not bloat the global layout file. */

/* 1st content section after hero: cream */
.hero + .section {
  background: var(--bg-soft);
}

/* 2nd content section (advantages) should be white */
.hero + .section + .section.light {
  background: var(--bg-light);
}

/* 3rd content section (process) cream */
.hero + .section + .section.light + .section {
  background: var(--bg-soft);
}

/* 4th content section (products) white */
.hero + .section + .section.light + .section + .section.light {
  background: var(--bg-light);
}

/* Tablet: increase padding & heading scale */
@media (min-width: var(--breakpoint-lg)) {
  .section {
    padding: var(--section-padding-tablet) 0;
  }

  .section h2 {
    font-size: var(--h2-size-tablet);
  }
}

/* Reveal animations handled with classes for better performance */
.reveal {
  opacity: 0;
  transform: translateY(30px);
  will-change: transform, opacity;
}

.reveal.in-view {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.6s ease, transform 0.6s ease;
}
/* Desktop: premium spacing */
@media (min-width: var(--breakpoint-xl)) {
  .section {
    padding: var(--section-padding-desktop) 0;
  }

  .section h2 {
    font-size: var(--h2-size-desktop);
  }
} 

/* ================= GRID ================= */
/* 2-column grid with responsive behavior */
.grid-2cols {
  display: grid;
  gap: var(--spacing-xl);
  grid-template-columns: 1fr;
}

/* Tablet: 2 columns */
@media (min-width: var(--breakpoint-lg)) {
  .grid-2cols {
    grid-template-columns: repeat(2, 1fr);
    align-items: stretch;
    gap: var(--spacing-2xl);
  }
}

/* Desktop: larger gap */
@media (min-width: var(--breakpoint-xl)) {
  .grid-2cols {
    gap: calc(var(--spacing-2xl) + 1rem);
  }
}

/* ================= FOOTER ================= */
/* Mobile: footer to feel grounded and separated from CTA; spans viewport width */
.footer {
  position: relative;
  box-sizing: border-box;
  background: var(--bg-light);
  border-top: 1px solid var(--border);
  margin-top: var(--spacing-3xl);
  padding: calc(var(--section-padding-mobile) + 1.5rem) 0; /* generous breathing space */
  text-align: center;
  overflow: visible;
}

.footer-inner {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
  align-items: center;
  padding: 0;
}


@media (min-width: var(--breakpoint-xl)) {
  .footer {
    padding: var(--section-padding-desktop) 0;
  }
}

.footer-brand strong {
  font-size: 1.1rem;
  color: var(--primary);
}

.footer-brand p {
  font-size: 0.9rem;
  color: var(--text-soft);
  margin-top: var(--spacing-sm);
  text-align: center;
}

.footer-contact {
  display: flex;
  gap: var(--spacing-md);
  align-items: center;
  justify-content: center;
}

.footer-contact a {
  font-size: 0.9rem;
  color: var(--text-dark);
  transition: color var(--transition);
}

.footer-contact a:hover {
  color: var(--primary);
}

.footer-copy {
  font-size: 0.8rem;
  color: var(--text-soft);
  margin-top: var(--spacing-md);
  text-align: center;
}

/* Tablet: more structure */
@media (min-width: var(--breakpoint-lg)) {
  .footer {
    background: var(--bg-light);
    border-top: 1px solid var(--border);
    padding: var(--spacing-2xl) 0;
    text-align: center;
  }

  .footer-inner {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    align-items: center;
    justify-items: center;
    gap: var(--spacing-xl);
  }

  .footer-copy {
    text-align: center;
    margin-top: 0;
  }
}

/* Desktop: balanced spacing */
@media (min-width: var(--breakpoint-xl)) {
  .footer {
    padding: var(--spacing-3xl) 0;
  }

  .footer-inner {
    gap: var(--spacing-2xl);
  }
}

/* ================= DARK MODE TWEAK ================= */
:root[data-theme="dark"] .header,
:root[data-theme="dark"] .footer {
  background: var(--bg-light);
  border-color: rgba(255,255,255,0.1);
}